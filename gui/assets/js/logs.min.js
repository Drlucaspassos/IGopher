var pager={};function refreshLogs(){document.addEventListener("astilectron-ready",(function(){astilectron.sendMessage({msg:"getLogs"},(function(e){e.status===SUCCESS?(console.log("success"),pager.items=JSON.parse(e.msg),pager.refresh()):toastr.error(e.msg)}))}))}function bindList(){var e=pager.pagedItems[pager.currentPage],r=document.createElement("tbody"),a=document.getElementById("logsList");r.id=a.id;for(var t=0;t<e.length;t++){var n=document.createElement("TR");for(var g in e[t]){var s=document.createElement("TD");s.appendChild(document.createTextNode(e[t][g])),n.appendChild(s)}r.appendChild(n)}a.parentNode.replaceChild(r,a),document.getElementById("pageNumber").innerHTML=pager.currentPage+1}function prevPage(){pager.prevPage(),bindList()}function nextPage(){pager.nextPage(),bindList()}function setPagination(e){pager.itemsPerPage=e,pager.refresh()}function pagerInit(){pager.pagedItems=[],pager.currentPage=0,void 0===pager.itemsPerPage&&(pager.itemsPerPage=25),pager.prevPage=function(){pager.currentPage>0&&pager.currentPage--},pager.nextPage=function(){pager.currentPage<pager.pagedItems.length-1&&pager.currentPage++},pager.refresh=function(){pager.currentPage=0,pager.pagedItems=[];for(var e=0;e<pager.items.length;e++)e%pager.itemsPerPage==0?pager.pagedItems[Math.floor(e/pager.itemsPerPage)]=[pager.items[e]]:pager.pagedItems[Math.floor(e/pager.itemsPerPage)].push(pager.items[e]);bindList()}}pagerInit(),refreshLogs(),$(document).ready((function(){$("#refreshLogsBtn").on("click",(function(){$("#refreshLogsIcon").addClass("fa-spin"),refreshLogs(),$("#refreshLogsIcon").removeClass("fa-spin")})),$("#prevPageBtn").on("click",(function(){prevPage()})),$("#nextPageBtn").on("click",(function(){nextPage()})),$("#elementsPerPageSelect").on("change",(function(){setPagination(this.value)}))}));